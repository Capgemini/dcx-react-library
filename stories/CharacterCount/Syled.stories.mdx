import { Meta, Story, Canvas, Props } from '@storybook/addon-docs';
import { CharacterCount } from '../../src/characterCount';

<Meta
  title="DCXLibrary/Form/CharacterCount/Styled"
  component={CharacterCount}
/>

# Styled Character Count

In this section we're using the CharacterCount component providing the **GovUK style** passing the relative `className`.
Feel free to use your own css and style the CharacterCount as you prefer.

---

### Basic

No restriction on typing in the textbox with over limit message showing

<Canvas>
  <Story name="basic">
    {() => (
      <CharacterCount
        containerClassName="govuk-character-count"
        labelClassName="govuk-label govuk-label--l"
        label="Label for text area"
        hint={{
          text: 'Type more than 15 characters to see the message change',
          className: 'govuk-hint',
        }}
        textareaClassName="govuk-textarea govuk-character-count"
        textareaErrorClassName="govuk-textarea--error"
        messageClassName="govuk-hint"
        messageErrorClassName="govuk-character-count__message govuk-error-message"
        maxLength={15}
        rows={5}
      />
    )}
  </Story>
</Canvas>

### Constrained

Typing in the textbox is restricted to the character limit

<Canvas>
  <Story name="constrained">
    {() => (
      <CharacterCount
        containerClassName="govuk-character-count"
        labelClassName="govuk-label govuk-label--l"
        label="Label for text area"
        hint={{
          text: 'Type more than 15 characters to see the limitation',
          className: 'govuk-hint',
        }}
        textareaClassName="govuk-textarea govuk-character-count"
        textareaErrorClassName="govuk-textarea--error"
        messageClassName="govuk-hint"
        messageErrorClassName="govuk-character-count__message govuk-error-message"
        maxLength={15}
        rows={5}
        constrained={true}
      />
    )}
  </Story>
</Canvas>

### Threshold

Set to 80% for 15 characters maximum length

<Canvas>
  <Story name="threshold">
    {() => (
      <CharacterCount
        containerClassName="govuk-character-count"
        labelClassName="govuk-label govuk-label--l"
        label="Label for text area"
        hint={{
          text: 'Type more than 12 characters to see the message',
          className: 'govuk-hint',
        }}
        textareaClassName="govuk-textarea govuk-character-count"
        textareaErrorClassName="govuk-textarea--error"
        messageClassName="govuk-hint"
        messageErrorClassName="govuk-character-count__message govuk-error-message"
        maxLength={15}
        rows={5}
        threshold={80}
      />
    )}
  </Story>
</Canvas>

### Word count

<Canvas>
  <Story name="word-count">
    {() => (
      <CharacterCount
        containerClassName="govuk-character-count"
        labelClassName="govuk-label govuk-label--l"
        label="Label for text area"
        hint={{
          text: 'Type more than 15 words to see the message change',
          className: 'govuk-hint',
        }}
        textareaClassName="govuk-textarea govuk-character-count"
        textareaErrorClassName="govuk-textarea--error"
        messageClassName="govuk-hint"
        messageErrorClassName="govuk-character-count__message govuk-error-message"
        maxLength={15}
        rows={5}
        limitType="words"
      />
    )}
  </Story>
</Canvas>

### Custom word count message

It will allow to specify a custom message whilst the user is typing

<Canvas>
  <Story name="custom-message">
    {() => (
      <CharacterCount
        containerClassName="govuk-character-count"
        labelClassName="govuk-label govuk-label--l"
        label="Label for text area"
        hint={{
          text: 'Type more than 15 characters to see the message change',
          className: 'govuk-hint',
        }}
        textareaClassName="govuk-textarea govuk-character-count"
        textareaErrorClassName="govuk-textarea--error"
        messageClassName="govuk-hint"
        messageErrorClassName="govuk-character-count__message govuk-error-message"
        maxLength={15}
        rows={5}
        customMaxCharMsgFunc={(remainingCount, overLimitBy, hydrated) =>
          `this is a custom message with ${remainingCount} and ${overLimitBy} with js enabled ${hydrated}`
        }
      />
    )}
  </Story>
</Canvas>

### Error

<Canvas>
  <Story name="error">
    {() => (
      <CharacterCount
        containerClassName="govuk-character-count govuk-form-group govuk-form-group--error"
        labelClassName="govuk-label govuk-label--l"
        label="Label for text area"
        hint={{ text: 'Optional hint', className: 'govuk-hint' }}
        textareaClassName="govuk-textarea govuk-character-count govuk-textarea--error"
        messageClassName="govuk-character-count__message govuk-hint"
        messageErrorClassName="govuk-character-count__message govuk-character-count__status govuk-error-message"
        maxLength={15}
        cols={30}
        rows={5}
        displayError={true}
        errorMessage="There is an error"
        errorMessageClassName="govuk-error-message"
      />
    )}
  </Story>
</Canvas>

The css we used to styled the character count component is the following:

```css
@media (min-width: 40.0625em) {
  .govuk-character-count {
    margin-bottom: 30px;
  }
}
.govuk-character-count .govuk-form-group,
.govuk-character-count .govuk-textarea {
  margin-bottom: 5px;
}
@media (min-width: 40.0625em) {
  .govuk-label--l {
    font-size: 36px;
    font-size: 2.25rem;
    line-height: 1.11111;
  }
}
.govuk-label--l {
  font-family: 'GDS Transport', arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-weight: 700;
  font-size: 24px;
  font-size: 1.5rem;
  line-height: 1.04167;
  margin-bottom: 15px;
}
.govuk-label {
  font-family: 'GDS Transport', arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-weight: 400;
  font-size: 16px;
  font-size: 1rem;
  line-height: 1.25;
  color: #0b0c0c;
  display: block;
  margin-bottom: 5px;
}
.govuk-hint {
  font-family: 'GDS Transport', arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-weight: 400;
  font-size: 16px;
  font-size: 1rem;
  line-height: 1.25;
  display: block;
  margin-bottom: 15px;
  color: #505a5f;
}
@media (min-width: 40.0625em) {
  .govuk-hint {
    font-size: 19px;
    font-size: 1.1875rem;
    line-height: 1.31579;
  }
}
.govuk-textarea {
  font-family: 'GDS Transport', arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-weight: 400;
  font-size: 16px;
  font-size: 1rem;
  line-height: 1.25;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  display: block;
  width: 100%;
  min-height: 40px;
  margin-bottom: 20px;
  padding: 5px;
  resize: vertical;
  border: 2px solid #0b0c0c;
  border-radius: 0;
  -webkit-appearance: none;
}
@media (min-width: 40.0625em) {
  .govuk-textarea {
    font-size: 19px;
    font-size: 1.1875rem;
    line-height: 1.25;
  }
}
.govuk-textarea:focus {
  outline: 3px solid #fd0;
  outline-offset: 0;
  -webkit-box-shadow: inset 0 0 0 2px;
  box-shadow: inset 0 0 0 2px;
}
.govuk-character-count__message {
  font-family: 'GDS Transport', arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-feature-settings: 'tnum' 1;
  font-feature-settings: 'tnum' 1;
  font-weight: 400 !important;
  margin-top: 0;
  margin-bottom: 0;
}

@supports (font-variant-numeric: tabular-nums) {
  .govuk-character-count__message {
    -webkit-font-feature-settings: normal;
    font-feature-settings: normal;
    font-variant-numeric: tabular-nums;
  }
}
.govuk-form-group--error {
  padding-left: 15px;
  border-left: 5px solid #d4351c;
}
.govuk-error-message {
  font-family: 'GDS Transport', arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-weight: 700;
  font-size: 16px;
  font-size: 1rem;
  line-height: 1.25;
  display: block;
  margin-bottom: 15px;
  clear: both;
  color: #d4351c;
}
.govuk-textarea--error {
  border-color: #d4351c;
}
```

<Props of={CharacterCount} />
