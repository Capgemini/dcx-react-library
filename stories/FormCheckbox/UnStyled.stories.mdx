import { Meta, Story, Canvas, Props } from '@storybook/addon-docs';
import { FormCheckbox } from '../../src/formCheckbox/FormCheckbox';

<Meta title="DCXLibrary/Form/Checkbox" component={FormCheckbox} />

### Example of basic checkbox

<Canvas>
  <Story name="un-styled-basic">
    {() => {
      const [value, setValue] = React.useState('');
      const [checked, setChecked] = React.useState(false);
      const handleChange = (event) => {
        setValue(event.currentTarget.value);
        setChecked(!checked);
      };
      return (
        <FormCheckbox
          label="checkbox label"
          value={value}
          id="checkbox-1"
          inputProps={{
            name: 'checkbox-1',
          }}
          onChange={handleChange}
          selected={checked}
        />
      );
    }}
  </Story>
</Canvas>

### Example of basic checkbox with hint

By default, the hint will display underneath the checkbox

<Canvas>
  <Story name="un-styled-basic-with-hint">
    {() => {
      const [value, setValue] = React.useState('');
      const [checked, setChecked] = React.useState(false);
      const handleChange = (event) => {
        setValue(event.currentTarget.value);
        setChecked(!checked);
      };
      return (
        <FormCheckbox
          label="checkbox label"
          value={value}
          id="checkbox-2"
          inputProps={{
            name: 'checkbox-2',
          }}
          onChange={handleChange}
          selected={checked}
          hint={{
            text: 'Hint text below',
            position: 'below',
          }}
        />
      );
    }}
  </Story>
</Canvas>

### Example of basic checkbox with hint positioned above

<Canvas>
  <Story name="un-styled-basic-with-hint-above">
    {() => {
      const [value, setValue] = React.useState('');
      const [checked, setChecked] = React.useState(false);
      const handleChange = (event) => {
        setValue(event.currentTarget.value);
        setChecked(!checked);
      };
      return (
        <FormCheckbox
          label="checkbox label"
          value={value}
          id="checkbox-3"
          inputProps={{
            name: 'checkbox-3',
          }}
          onChange={handleChange}
          selected={checked}
          hint={{
            text: 'Hint text above',
            position: 'above',
          }}
        />
      );
    }}
  </Story>
</Canvas>

### Example of disabled checkbox

<Canvas>
  <Story name="un-styled-disabled">
    {() => {
      const [value, setValue] = React.useState('');
      const [checked, setChecked] = React.useState(false);
      const handleChange = (event) => {
        setValue(event.currentTarget.value);
        setChecked(!checked);
      };
      return (
        <FormCheckbox
          label="checkbox label"
          value={value}
          id="checkbox-4"
          inputProps={{
            name: 'checkbox-4',
          }}
          onChange={handleChange}
          disabled={true}
          selected={checked}
        />
      );
    }}
  </Story>
</Canvas>

### Example of preselected checkbox

<Canvas>
  <Story name="un-styled-preselected">
    {() => {
      const [value, setValue] = React.useState('');
      const [checked, setChecked] = React.useState(true);
      const handleChange = (event) => {
        setValue(event.currentTarget.value);
        setChecked(!checked);
      };
      return (
        <FormCheckbox
          label="checkbox label"
          value={value}
          id="checkbox-5"
          inputProps={{
            name: 'checkbox-5',
          }}
          onChange={handleChange}
          selected={checked}
        />
      );
    }}
  </Story>
</Canvas>

### Example of checkbox with conditional input field

<Canvas>
  <Story name="un-styled-conditional">
    {() => {
      const [value, setValue] = React.useState('');
      const [checked, setChecked] = React.useState(true);
      const handleChange = (event, conditional) => {
        if (conditional) {
          console.log(conditional);
          return;
        }
        setValue(event.currentTarget.value);
        setChecked(event.currentTarget.checked);
      };
      return (
        <>
          <FormCheckbox
            label="checkbox label"
            value={value}
            id="checkbox-6"
            inputProps={{
              name: 'checkbox-6',
            }}
            onChange={handleChange}
            selected={checked}
            conditional={{
              value: '',
              name: 'conditional-6',
              label: 'condition label',
              type: 'text',
              id: 'checkbox-6',
              inputId: 'input-6',
            }}
          />
        </>
      );
    }}
  </Story>
</Canvas>

### Example of a checkbox with a sibling conditional

The property conditionalPosition can be set to 'sibling' if you want the conditional element to be a sibling of the main input elment for styling purposes

<Canvas>
  <Story name="un-styled-conditional-sibiling">
    {() => {
      const [value, setValue] = React.useState({
        'contact-sibiling': false,
        'contact-sibiling-2': false,
        'contact-sibiling-3': false,
      });
      const handleChange = (event, conditional) => {
        setValue({
          ...value,
          [event.target.id]: event.target.checked,
        });
        console.log(conditional);
      };
      return (
        <FormCheckbox
          name="contact"
          label="Email"
          value="contact-by-email"
          id="contact-sibiling"
          ariaDataControls="conditional-contact"
          onChange={handleChange}
          selected={value['contact-sibiling']}
          conditional={{
            value: '',
            name: 'contact-by-email',
            label: 'Email address',
            type: 'text',
            id: 'conditional-contact',
            inputId: 'contact-by-email',
            position: 'sibling',
          }}
        />
      );
    }}
  </Story>
</Canvas>

### List of properties

<Props of={FormCheckbox} />
