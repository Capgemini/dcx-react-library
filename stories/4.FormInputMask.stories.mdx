import { Meta, Story, Canvas, Props } from '@storybook/addon-docs/blocks';
import { FormInputMasked } from '../src/formInput/FormInputMasked';
import './style.css';

<Meta title="DCXLibrary/Form/InputWithMask" component={FormInputMasked} />

# FormInputMasked

An Input component ready to use in your form with support for input mask (eg. phone,date,number,etc). For
the list of validation rules please refer to
[imask](https://imask.js.org/)

FormInputMasked is UI/UX agnostic so you need to provide your style to have the look
and feel you prefer.

## Usage

An example with all the available properties is:

```js
<FormInputMasked
  options={{
    mask: '£num',
    blocks: {
      num: {
        // nested masks are available!
        mask: Number,
        thousandsSeparator: ' ',
      },
    },
  }}
  value={value}
  onChange={handleChange}
  type="text"
  name="maskInput"
/>
```

### An example of 'un-styled' InputMasked
In the following example we define a currency input mask. For example you'll write 33 and the final outcome will be £33

<Canvas>
  <Story name="basic">
    {() => {
      const [value, setValue] = React.useState('');
      const handleChange = event => {console.log};
      return (
        <FormInputMasked
        options={{
          mask: '£num',
          blocks: {
            num: {
              // nested masks are available!
              mask: Number,
              thousandsSeparator: ' ',
            },
          },
        }}
        value={value}
        onChange={handleChange}
        type="text"
        name="maskInput"
      />
      );
    }}
  </Story>
</Canvas>

### An example of 'styled' InputMasked
In this section we're using the formInputMask component providing the GovUk style passing the relative `className`.
We've 2 demo:
- currency input (with pound symbol)
- date input in the format `dd.mm.yyyy`
Feel free to use your own css and style the formInput as you prefer

<Canvas>
  <Story name="HMRC">
    {() => {
      const [value, setValue] = React.useState('');
      const handleChange = event => {console.log};
      return (
      <>
        <FormInputMasked
        options={{
          mask: '£num',
          blocks: {
            num: {
              // nested masks are available!
              mask: Number,
              thousandsSeparator: ' ',
            },
          },
        }}
        value={value}
        onChange={handleChange}
        type="text"
        name="maskInput"
        className="govuk-input"
      />
      <div style={{marginBottom:'10px'}}/>
      <FormInputMasked
        options={{
    		mask: Date,
    		min: new Date(1990, 0, 1),
    		max: new Date(2020, 0, 1),
    		lazy: false
  		}}
        value={value}
        onChange={handleChange}
        type="text"
        name="maskInput"
        className="govuk-input"
      />
      </>
      );
    }}
  </Story>
</Canvas>

<Props of={FormInputMasked} />
