import { Meta, Story, Canvas, Props } from '@storybook/addon-docs/blocks';
import { FormGroup } from '../src/formGroup/FormGroup';
import './style.css';

<Meta title="DCXLibrary/Form/Group/HMRC" component={FormGroup} />

# GOVUK Style

In this section we are using the FormGroup component providing the GOV.UK Design System styles by passing the relative `className`. Feel free to use your own css and style the FormGroup as you prefer

<Canvas>
    <Story name="inline">
        {() => {
            const handleChange = (event) => {
                // handle change
            }
            return (
                <FormGroup
                    name="change-name"
                    inputProps={{
                        className: "govuk-radios__input"
                    }}
                    itemProps={{
                        className: "govuk-radios__item"
                    }}
                    labelProps={{
                        className: "govuk-label govuk-radios__label"
                    }}
                    items={[{
                        label: "Yes",
                        value: "yes",
                        id: "change-name",
                        onChange: (e) => handleChange(e)
                    },
                    {
                        label: "No",
                        value: "no",
                        id: "change-name-2",
                        onChange: (e) => handleChange(e)                     
                    }]}
                    ariaDescribedBy="changed-name-hint"
                    groupClasses="govuk-form-group"
                    fieldsetClasses="govuk-fieldset"
                    hint={{
                        id: "changed-name-hint",
                        text: "This includes changing your last name or spelling your name differently.",
                        classes: "govuk-hint"
                    }}
                    itemsClasses="govuk-radios govuk-radios--inline"
                    legend={{
                        text: "Have you changed your name?",
                        classes: "govuk-fieldset__legend govuk-fieldset__legend--l",
                        isHeading: true,
                        headingClasses: "govuk-fieldset__heading"
                    }}
                />
            )
        }}
    </Story>
</Canvas>

<Canvas>
    <Story name="titled">
        {() => {
            const handleChange = (event) => {
                // handle change
            }
            return (
                <FormGroup
                    name="change-name-2"
                    inputProps={{
                        className: "govuk-radios__input"
                    }}
                    itemProps={{
                        className: "govuk-radios__item"
                    }}
                    labelProps={{
                        className: "govuk-label govuk-radios__label"
                    }}                   
                    items={[{
                        label: "Yes",
                        value: "yes",
                        id: "change-name-2-1",
                        onChange: (e) => handleChange(e)
                    },
                    {
                        label: "No",
                        value: "no",
                        id: "change-name-2-2",
                        onChange: (e) => handleChange(e)                   
                    }]}
                    ariaDescribedBy="changed-name-hint"
                    groupClasses="govuk-form-group"
                    fieldsetClasses="govuk-fieldset"
                    hint={{
                        id: "changed-name-hint",
                        text: "This includes changing your last name or spelling your name differently.",
                        classes: "govuk-hint"
                    }}
                    itemsClasses="govuk-radios govuk-radios--inline"
                    legend={{
                        text: "Have you changed your name?",
                        classes: "govuk-fieldset__legend govuk-fieldset__legend",
                        isHeading: true,
                        headingClasses: "govuk-fieldset__heading"
                    }}
                />
            )
        }}
    </Story>
</Canvas>

<Canvas>
    <Story name="stacked">
        {() => {
            const handleChange = (event) => {
                // handle change
            }
            return (
                <FormGroup
                    name="where-do-you-live"
                    inputProps={{
                        className: "govuk-radios__input"
                    }}
                    itemProps={{
                        className: "govuk-radios__item"
                    }}
                    labelProps={{
                        className: "govuk-label govuk-radios__label"
                    }}
                    items={[{
                        label: "England",
                        value: "england",
                        id: "where-do-you-live",
                        onChange: (e) => handleChange(e)
                    },
                    {
                        label: "Scotland",
                        value: "scotland",
                        id: "where-do-you-live-2",
                        onChange: (e) => handleChange(e)
                    },
                    {
                        label: "Wales",
                        value: "wales",
                        id: "where-do-you-live-3",
                        onChange: (e) => handleChange(e)
                    },
                    {
                        label: "Northern Ireland",
                        value: "northen-ireland",
                        id: "where-do-you-live-4",
                        onChange: (e) => handleChange(e)
                    }]}
                    groupClasses="govuk-form-group"
                    fieldsetClasses="govuk-fieldset"
                    itemsClasses="govuk-radios"
                    legend={{
                        text: "Where do you live?",
                        classes: "govuk-fieldset__legend govuk-fieldset__legend--l"
                    }}
                />
            )
        }}
    </Story>
</Canvas>

<Canvas>
    <Story name="items with hints">
        {() => {
            const handleChange = (event) => {
                // handle change
            }
            return (
                <FormGroup
                    name="sign-in"
                    inputProps={{
                        className: "govuk-radios__input"
                    }}
                    itemProps={{
                        className: "govuk-radios__item"
                    }}
                    labelProps={{
                        className: "govuk-label govuk-radios__label"
                    }}
                    items={[{
                        label: "Sign in with Government Gateway",
                        value: "government-gateway",
                        id: "sign-in",
                        hint: {
                           text: "You’ll have a user ID if you’ve registered for Self Assessment or filed a tax return online before.",
                           classes: "govuk-hint govuk-radios__hint",
                           id: "sign-in-item-hint"
                        },
                        ariaDescribedBy: "sign-in-item-hint",
                        onChange: (e) => handleChange(e)
                    },
                    {
                        label: "Sign in with GOV.UK Verify",
                        value: "govuk-verify",
                        id: "sign-in-2",
                        hint: {
                           text: "You’ll have an account if you’ve already proved your identity with either Barclays, CitizenSafe, Digidentity, Experian, Post Office, Royal Mail or SecureIdentity.",
                           classes: "govuk-hint govuk-radios__hint",
                           id: "sign-in-2-item-hint"
                        },
                        ariaDescribedBy: "sign-in-item-hint",
                        onChange: (e) => handleChange(e)
                    }]}
                    ariaDescribedBy="sign-in-hint"
                    groupClasses="govuk-form-group"
                    fieldsetClasses="govuk-fieldset"
                    hint={{
                        id: "sign-in-hint",
                        text: "You’ll need an account to prove your identity and complete your Self Assessment",
                        classes: "govuk-hint"
                    }}
                    itemsClasses="govuk-radios"
                    legend={{
                        text: "How do you want to sign in?",
                        classes: "govuk-fieldset__legend govuk-fieldset__legend--l",
                        isHeading: true,
                        headingClasses: "govuk-fieldset__heading"
                    }}
                />
            )
        }}
    </Story>
</Canvas>

<Canvas>
    <Story name="filter">
        {() => {
            const handleChange = (event) => {
                // handle change
            }
            return (
                <FormGroup
                    name="filter-change"
                    inputProps={{
                        className: "govuk-radios__input"
                    }}
                    itemProps={{
                        className: "govuk-radios__item"
                    }}
                    labelProps={{
                        className: "govuk-label govuk-radios__label"
                    }}                   
                    items={[{
                        label: "Monthly",
                        value: "month",
                        id: "changed-name-month",
                        onChange: (e) => handleChange(e)
                    },
                    {
                        label: "Yearly",
                        value: "year",
                        id: "changed-name-year",
                        onChange: (e) => handleChange(e)                    
                    }]}
                    groupClasses="govuk-radios govuk-radios--small"
                    fieldsetClasses="govuk-fieldset"
                    itemsClasses="govuk-radios govuk-radios--small"
                    legend={{
                        text: "Filter",
                        classes: "govuk-fieldset__legend govuk-fieldset__legend--m",
                        isHeading: true,
                        headingClasses: "govuk-fieldset__heading"
                    }}
                />
            )
        }}
    </Story>
</Canvas>

<Canvas>
    <Story name="error message">
        {() => {
            const handleChange = (event) => {
                // handle change
            }
            return (
                <FormGroup
                    name="change-name-error"
                    inputProps={{
                        className: "govuk-radios__input"
                    }}
                    itemProps={{
                        className: "govuk-radios__item"
                    }}
                    labelProps={{
                        className: "govuk-label govuk-radios__label"
                    }}
                    items={[{
                        label: "Yes",
                        value: "yes",
                        id: "change-name-yes-error",
                        onChange: (e) => handleChange(e)
                    },
                    {
                        label: "No",
                        value: "no",
                        id: "change-name-no-error",
                        onChange: (e) => handleChange(e)                     
                    }]}
                    ariaDescribedBy="changed-name-hint changed-name-error"
                    groupClasses="govuk-form-group govuk-form-group--error"
                    fieldsetClasses="govuk-fieldset"
                    error={{
                        text: "Select yes if you have changed your name",
                        classes: "govuk-error-message",
                        id: "changed-name-error",
                        visuallyHiddenText: {
                            text: "Error:",
                            classes: "govuk-visually-hidden"
                        }
                    }}
                    hint={{
                        id: "changed-name-hint",
                        text: "This includes changing your last name or spelling your name differently.",
                        classes: "govuk-hint"
                    }}
                    itemsClasses="govuk-radios govuk-radios--inline"
                    legend={{
                        text: "Have you changed your name?",
                        classes: "govuk-fieldset__legend govuk-fieldset__legend--l",
                        isHeading: true,
                        headingClasses: "govuk-fieldset__heading"
                    }}
                />
            )
        }}
    </Story>
</Canvas>

<Canvas>
    <Story name="with a text divider">
        {() => {
            const handleChange = (event) => {
                // handle change
            }
            return (
                <FormGroup
                    name="where-do-you-live-divider"
                    inputProps={{
                        className: "govuk-radios__input"
                    }}
                    itemProps={{
                        className: "govuk-radios__item"
                    }}
                    labelProps={{
                        className: "govuk-label govuk-radios__label"
                    }}
                    items={[{
                        label: "England",
                        value: "england",
                        id: "where-do-you-live-divider",
                        onChange: (e) => handleChange(e)
                    },
                    {
                        label: "Scotland",
                        value: "scotland",
                        id: "where-do-you-live-divider-2",
                        onChange: (e) => handleChange(e)
                    },
                    {
                        label: "Wales",
                        value: "wales",
                        id: "where-do-you-live-divider-3",
                        onChange: (e) => handleChange(e)
                    },
                    {
                        label: "Northern Ireland",
                        value: "northen-ireland",
                        id: "where-do-you-live-divider-4",
                        onChange: (e) => handleChange(e)
                    },
                    {
                        className: "govuk-radios__divider",
                        text: "or",
                    },
                    {
                        label: "I am a British citizen living abroad",
                        value: "living-abroad",
                        id: "where-do-you-live-divider-5",
                        onChange: (e) => handleChange(e)
                    }
                    ]}
                    groupClasses="govuk-form-group"
                    fieldsetClasses="govuk-fieldset"
                    itemsClasses="govuk-radios"
                    legend={{
                        text: "Where do you live?",
                        classes: "govuk-fieldset__legend govuk-fieldset__legend--l"
                    }}
                />
            )
        }}
    </Story>
</Canvas>

<Canvas>
    <Story name="conditionally revealing content">
        {() => {
            const handleChange = (event) => {
                // handle change
            }
            return (
                <FormGroup
                    name="contact"
                    inputProps={{
                        className: "govuk-radios__input"
                    }}
                    itemProps={{
                        className: "govuk-radios__item"
                    }}
                    labelProps={{
                        className: "govuk-label govuk-radios__label"
                    }}                   
                    items={[{
                        label: "Email",
                        value: "email",
                        id: "contact",
                        ariaDataControls: "conditional-contact",
                        conditional: {
                            name: "contact-by-email",
                            label: "Email address",
                            type: "email",
                            className: "govuk-radios__conditional govuk-radios__conditional--hidden",
                            groupClassName: "govuk-form-group",
                            id: "conditional-contact",
                            inputClassName: "govuk-input govuk-!-width-one-third",
                            inputId: "contact-by-email"
                        },
                        onChange: (e) => handleChange(e)
                    },
                    {
                        label: "Phone",
                        value: "phone",
                        id: "contact-2",
                        ariaDataControls: "conditional-contact-2",
                        conditional: {
                            name: "contact-by-phone",
                            label: "Phone number",
                            type: "tel",
                            className: "govuk-radios__conditional govuk-radios__conditional--hidden",
                            groupClassName: "govuk-form-group",
                            id: "conditional-contact-2",
                            inputClassName: "govuk-input govuk-!-width-one-third",
                            inputId: "contact-by-phone"
                        },
                        onChange: (e) => handleChange(e)
                    },
                    {
                        label: "Text message",
                        value: "text",
                        id: "contact-3",
                        ariaDataControls: "conditional-contact-3",
                        conditional: {
                            name: "contact-by-text",
                            label: "Mobile phone number",
                            type: "tel",
                            className: "govuk-radios__conditional govuk-radios__conditional--hidden",
                            groupClassName: "govuk-form-group",
                            id: "conditional-contact-3",
                            inputClassName: "govuk-input govuk-!-width-one-third",
                            inputId: "contact-by-text"
                        },
                        onChange: (e) => handleChange(e)
                    }]}
                    ariaDescribedBy="contact-hint"
                    groupClasses="govuk-form-group"
                    fieldsetClasses="govuk-fieldset"
                    hint={{
                        id: "contact-hint",
                        text: "Select one option.",
                        classes: "govuk-hint"
                    }}
                    itemsClasses="govuk-radios govuk-radios--conditional"
                    legend={{
                        text: "How would you prefer to be contacted?",
                        classes: "govuk-fieldset__legend govuk-fieldset__legend--l",
                        isHeading: true,
                        headingClasses: "govuk-fieldset__heading"
                    }}
                />
            )
        }}
    </Story>
</Canvas>

The css we used to styled the formGroup component is the following:
```css
.govuk-radios__input {
    cursor: pointer;
    position: absolute;
    z-index: 1;
    top: -2px;
    left: -2px;
    width: 44px;
    height: 44px;
    margin: 0;
    opacity: 0
}

.govuk-radios__item {
    font-family: "GDS Transport",arial,sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-weight: 400;
    font-size: 16px;
    font-size: 1rem;
    line-height: 1.25;
    display: block;
    position: relative;
    min-height: 40px;
    margin-bottom: 10px;
    padding-left: 40px;
    clear: left
}

.govuk-label {
    font-family: "GDS Transport",arial,sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-weight: 400;
    font-size: 16px;
    font-size: 1rem;
    line-height: 1.25;
    color: #0b0c0c;
    display: block;
    margin-bottom: 5px
}

.govuk-hint {
    font-family: "GDS Transport",arial,sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-weight: 400;
    font-size: 16px;
    font-size: 1rem;
    line-height: 1.25;
    display: block;
    margin-bottom: 15px;
    color: #505a5f
}

.govuk-fieldset {
    min-width: 0;
    margin: 0;
    padding: 0;
    border: 0
}

.govuk-fieldset__legend {
    font-family: "GDS Transport",arial,sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-weight: 400;
    font-size: 16px;
    font-size: 1rem;
    line-height: 1.25;
    color: #0b0c0c;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    display: table;
    max-width: 100%;
    margin-bottom: 10px;
    padding: 0;
    white-space: normal
}

.govuk-fieldset:after {
    content: "";
    display: block;
    clear: both
}

.govuk-radios__item:last-child,.govuk-radios__item:last-of-type {
    margin-bottom: 0
}

.govuk-radios__input:focus+.govuk-radios__label:before {
    border-width: 4px;
    -webkit-box-shadow: 0 0 0 4px #fd0;
    box-shadow: 0 0 0 4px #fd0
}

.govuk-radios__input:checked+.govuk-radios__label:after {
    opacity: 1
}

.govuk-radios__input:disabled,.govuk-radios__input:disabled+.govuk-radios__label {
    cursor: default
}

.govuk-radios__input:disabled+.govuk-radios__label {
    opacity: .5
}

.govuk-visually-hidden {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
    clip: rect(0 0 0 0) !important;
    -webkit-clip-path: inset(50%) !important;
    clip-path: inset(50%) !important;
    border: 0 !important;
    white-space: nowrap !important
}

.govuk-visually-hidden-focusable {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    margin: 0 !important;
    overflow: hidden !important;
    clip: rect(0 0 0 0) !important;
    -webkit-clip-path: inset(50%) !important;
    clip-path: inset(50%) !important;
    white-space: nowrap !important
}

.govuk-visually-hidden-focusable:active,.govuk-visually-hidden-focusable:focus {
    position: static !important;
    width: auto !important;
    height: auto !important;
    margin: inherit !important;
    overflow: visible !important;
    clip: auto !important;
    -webkit-clip-path: none !important;
    clip-path: none !important;
    white-space: inherit !important
}

.govuk-radios__divider {
  font-family: 'GDS Transport', arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-weight: 400;
  font-size: 16px;
  font-size: 1rem;
  line-height: 1.25;
  color: #0b0c0c;
  width: 40px;
  margin-bottom: 10px;
  text-align: center;
}

@media print {
  .govuk-radios__divider {
    font-family: sans-serif;
  }
}

@media (min-width: 40.0625em) {
  .govuk-radios__divider {
    font-size: 19px;
    font-size: 1.1875rem;
    line-height: 1.31579;
  }
}

@media print {
  .govuk-radios__divider {
    font-size: 14pt;
    line-height: 1.15;
  }
}

@media print {
  .govuk-radios__divider {
    color: #000;
  }
}

.govuk-radios--small .govuk-radios__divider {
  width: 24px;
  margin-bottom: 5px;
}
```

<Props of={FormGroup} />